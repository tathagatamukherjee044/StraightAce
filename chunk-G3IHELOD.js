import{a as g}from"./chunk-YRK4NNX3.js";import{p as r}from"./chunk-5FNVOWFW.js";import{c as n,h as a,ia as p,j as c,ja as h}from"./chunk-FS3NAXD3.js";var T=(()=>{let o=class o{constructor(e,t){this.http=e,this.storageService=t}authenticateUser(e){return this.http.post(r.api.LOGIN,e).pipe(n(t=>t))}refreshToken(){let e=new p().set("Authorization",`Bearer ${this.getRefreshToken()}`);return this.http.post(r.api.REFRESH,{},{headers:e}).subscribe(t=>{let s=t.accessToken;this.storageService.setStorage("accessToken",s)})}createUser(e){return this.http.post("http://localhost:8080/auth/signup",e).pipe(t=>t)}getAccessToken(){return this.storageService.getStorage("accessToken")}getRefreshToken(){return this.storageService.getStorage("refreshToken")}setUser(e){this.storageService.setStorage("accessToken",e.accessToken),this.storageService.setStorage("refreshToken",e.refreshToken),this.storageService.setStorage("user",e)}getGoogleOAuthURL(){let e="https://accounts.google.com/o/oauth2/v2/auth",t={redirect_uri:r.googleOauthRedirectUrl,client_id:r.googleClientId,access_type:"offline",response_type:"code",prompt:"consent",scope:["https://www.googleapis.com/auth/userinfo.profile","https://www.googleapis.com/auth/userinfo.email"].join(" ")},s=new URLSearchParams(t);console.log(`${e}?${s.toString()}`),window.location.href=`${e}?${s.toString()}`}};o.\u0275fac=function(t){return new(t||o)(c(h),c(g))},o.\u0275prov=a({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();export{T as a};
